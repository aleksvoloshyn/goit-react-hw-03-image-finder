{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Loader/Loader.module.css","Components/Searchbar/Searchbar.jsx","Components/Modal/Modal.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Api/ImageApi.jsx","Loader/Loader.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","state","searchRequest","onChangeInput","e","setState","currentTarget","value","onSearchSubmit","event","preventDefault","props","onSubmit","toast","error","className","styles","this","SearchForm","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Modal__overlay","onClick","Modal__content","children","ImageGalleryItem","toggle","images","map","item","src","webformatURL","alt","tags","ImageGalleryItem__image","largeImageURL","uuidv4","ImageGallery","toggleModal","Button","GetImagesApi","q","page","axios","get","Load","color","height","width","timeout","loader","scrollPageDown","scrollTo","top","documentElement","scrollHeight","behavior","App","showModal","pictures","loading","largeImageSrc","getData","request","then","response","status","trim","length","data","hits","Error","message","catch","console","setSearchRequest","pageIncrement","setCurrentPictureSrc","undefined","dataset","largeimage","prevProps","prevState","autoClose","newestOnTop","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.828d59e2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1IStB\",\"SearchForm\":\"Searchbar_SearchForm__1U5-B\",\"SearchForm__button\":\"Searchbar_SearchForm__button__1lTg6\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__VY0rZ\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1Q2hh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal__overlay\":\"Modal_Modal__overlay__DE63g\",\"Modal__content\":\"Modal_Modal__content__2sQNR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3u8vp\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__-P0AY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1Jfl8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__37t2Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2FxtC\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchRequest: '',\r\n  };\r\n\r\n  onChangeInput = e => {\r\n    this.setState({ searchRequest: e.currentTarget.value });\r\n  };\r\n\r\n  onSearchSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (!this.state.searchRequest) {\r\n      toast.error('Ввдите данные в строку поиска');\r\n      // this.props.clearPage();\r\n      return;\r\n    }\r\n    this.setState({ searchRequest: '' });\r\n\r\n    this.props.onSubmit(this.state.searchRequest);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.onSearchSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchForm__button}>\r\n            <span className={styles.SearchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onChangeInput}\r\n            value={this.state.searchRequest}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Searchbar };\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Modal__overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal__content}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Modal };\r\n","import PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ toggle, images }) => {\r\n  return (\r\n    <>\r\n      {images.map(item => {\r\n        return (\r\n          <li onClick={toggle} className=\"ImageGalleryItem\" key={uuidv4()}>\r\n            <img\r\n              src={item.webformatURL}\r\n              alt={item.tags}\r\n              className={styles.ImageGalleryItem__image}\r\n              data-largeimage={item.largeImageURL}\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  toggle: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n};\r\n\r\nexport { ImageGalleryItem };\r\n","import PropTypes from 'prop-types';\r\nimport { ImageGalleryItem } from './../ImageGalleryItem/ImageGalleryItem';\r\n\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, toggleModal }) => {\r\n  return (\r\n    <div>\r\n      <ul className={styles.ImageGallery}>\r\n        <ImageGalleryItem toggle={toggleModal} images={images} />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { ImageGallery };\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button onClick={onClick} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport { Button };\r\n","import axios from 'axios';\r\n\r\nfunction GetImagesApi(q, page = 1) {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?key=22398165-fb0cc592f6e3d650fc4eef6c6&q=${q}&page=${page}&per_page=12&image_type=photo`,\r\n  );\r\n}\r\n\r\nexport { GetImagesApi };\r\n","import Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nconst Load = () => {\r\n  return (\r\n    <Loader\r\n      type=\"MutatingDots\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={500}\r\n      className={styles.loader}\r\n    />\r\n  );\r\n};\r\n\r\nexport { Load };\r\n","import React, { Component } from 'react';\nimport { Searchbar } from './Components/Searchbar/Searchbar';\nimport { Modal } from './Components/Modal/Modal';\nimport { ImageGallery } from './Components/ImageGallery/ImageGallery';\nimport { Button } from './Components/Button/Button';\nimport { GetImagesApi } from './Components/Api/ImageApi';\nimport { Load } from './Loader/Loader';\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nfunction scrollPageDown() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n}\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    pictures: [],\n    searchRequest: '',\n    loading: false,\n    error: '',\n    page: 1,\n    largeImageSrc: '',\n    alt: '',\n  };\n\n  componentDidMount() {\n    this.getData(this.state.searchRequest, this.state.page);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchRequest !== this.state.searchRequest) {\n      this.setState({ pictures: [] });\n    }\n  }\n\n  getData = (request, page) => {\n    GetImagesApi(request, page)\n      .then(response => {\n        if (response.status === 200 && this.state.searchRequest.trim().length) {\n          this.setState({\n            pictures: [...this.state.pictures, ...response.data.hits],\n          });\n\n          if (this.state.pictures.length === 0) {\n            toast.error('По вашему запросу - НИЧЕГО НЕ НАЙДЕНО!');\n          }\n          scrollPageDown();\n        }\n        if (response.status === 404) {\n          throw new Error(response.message || 'pictures not exist');\n        }\n      })\n      .catch(function (error) {\n        console.error('error', error);\n      })\n      .then(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  setSearchRequest = request => {\n    this.setState({ loading: true });\n    this.setState({ searchRequest: request });\n    this.getData(request, this.state.page);\n  };\n\n  pageIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n    this.getData(this.state.searchRequest, this.state.page + 1);\n    this.setState({ loading: true });\n\n    return;\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  setCurrentPictureSrc = e => {\n    this.setState({ showModal: !this.state.showModal });\n    if (e !== undefined) {\n      this.setState({ largeImageSrc: e.target.dataset.largeimage });\n      this.setState({ alt: e.target.alt });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <ToastContainer autoClose={2000} newestOnTop={true} />\n\n        <Searchbar onSubmit={this.setSearchRequest} />\n\n        {this.state.pictures.length !== 0 && (\n          <ImageGallery\n            toggleModal={this.setCurrentPictureSrc}\n            images={this.state.pictures}\n          />\n        )}\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <div>\n              <img src={this.state.largeImageSrc} alt={this.state.alt} />\n            </div>\n          </Modal>\n        )}\n        {this.state.loading && <Load />}\n        {this.state.pictures.length > 0 && (\n          <div className={'container'}>\n            <Button onClick={this.pageIncrement} />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}